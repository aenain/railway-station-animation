@font-face
  font-family: 'League Gothic'
  src: url('/assets/leaguegothic-regular-webfont.eot')
  src: url('/assets/leaguegothic-regular-webfont.eot?#iefix') format('embedded-opentype'), url('/assets/leaguegothic-regular-webfont.woff') format('woff'), url('/assets/leaguegothic-regular-webfont.ttf') format('truetype'), url('/assets/leaguegothic-regular-webfont.svg#league_gothicregular') format('svg')
  font-weight: normal
  font-style: normal

@import colors.sass, prefixify.sass

body
  background-color: $ecru

*
  outline: none

a
  text-decoration: none

ul li
  list-style: none

.flash
  width: 100%
  top: 0
  padding: 1em
  position: fixed
  z-index: 1000
  text-align: center
  font: normal 1.2em 'Lucida Grande', 'Trebuchet MS', sans-serif
  letter-spacing: -1px
  @include prefixify(box-sizing, border-box)
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.4)
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5)

  &.error
    background-color: $danger
    color: white

.hidden
  display: none

.primary
  border: 1px solid darken($blue, 10%)
  color: $ecru
  background-color: $blue
  font-family: 'League Gothic'
  text-shadow: -1px -1px 0 darken($blue, 10%)
  @include prefixify(transition, background-color 0.5s ease-in-out)
  cursor: pointer

  &:hover
    background-color: darken($blue, 5%)

.nowrap
  white-space: nowrap

footer
  background-color: $gray
  text-align: center
  padding: 1em
  color: $ecru
  font-family: 'Lucida Grande', 'Trebuchet MS', sans-serif
  font-size: 0.8em
  letter-spacing: -1px
  margin-top: 4em

#header
  width: 100%
  background: $blue url('/assets/top-background.png') repeat-x
  text-align: center
  border-bottom: 10px solid $gray

  .logo
    margin: 2em auto 1.7em

#no-result
  width: 60%
  margin: 0 auto
  font-family: 'League Gothic'
  font-size: 2em
  padding: 2em 0
  text-align: center

.toolbar
  width: 200px
  height: 40px
  top: 1em
  right: 0.5em
  position: fixed
  z-index: 20

  .main
    width: 100%
    height: 40px
    top: 0px
    left: 0px
    z-index: 0
    position: absolute
    overflow: hidden
    border-radius: 0 5px 5px 0
    background-color: #eee
    box-shadow: inset 0 0 20px #ddd, 0 0 3px #888

    & > *
      margin-top: 3px
      float: left
      display: block
      position: relative
      font-family: 'League Gothic'
      color: $gray
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2)

    .time
      margin-left: 44px
      font-size: 24px
      text-shadow: 0 1px 0 #fff
      color: #000

    .actions
      padding: 0
      margin: 0
      float: right
      position: relative
      overflow: hidden

      .icon-refresh, .icon-remove-circle, .icon-ok-circle
        width: 35px
        height: 32px
        padding-top: 8px
        top: 4px
        margin: 0
        float: left
        display: block
        border-left: 1px solid rgba(0, 0, 0, 0.05)
        font-size: 19px
        text-shadow: 0 1px 0 #fff
        text-align: center

        &:hover
          box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1)

          &, & + .icon-refresh, .icon-remove-circle, .icon-ok-circle
            border-left-color: rgba(0, 0, 0, 0.1)

      .icon-refresh
        color: $gray

      .icon-remove-circle
        color: $danger

      .icon-ok-circle
        color: $blue
        text-shadow: 0 1px 0 #fff

  .controls
    width: 50px
    height: 50px
    top: -5px
    left: -30px
    position: relative
    z-index: 1
    border-radius: 50%
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.5), inset 0 0 10px 10px rgba(0, 0, 0, 0.05)
    background-color: #eee

    .play-control
      width: 25px
      height: 25px
      top: -46px
      left: 19px
      display: block
      position: relative
      font-size: 22px
      color: $blue
      text-shadow: 0 1px 0 #fff

      &.icon-pause
        top: -44px
        left: 18px
        font-size: 18px

.menu
  width: 80%
  margin: 0
  padding-left: 20%
  position: relative
  overflow: hidden
  font-size: 1.8em
  font-family: 'League Gothic'
  background-color: $gray

  li
    width: 25%
    padding: 0.3em 0.5em 0.2em
    margin: 0
    float: left
    @include prefixify(box-sizing, border-box)
    display: inline-block
    text-align: center
    color: darken($gray, 18%)
    list-style: none
    border-right: 1px solid rgba(0, 0, 0, 0.1)

    &.active
      background-color: $ecru
      color: $blue
      text-shadow: none
      border-right-width: 0

      a:hover
        color: inherit

    &:last-child
      border-right-width: 0

    a
      width: 100%
      display: inline-block
      color: inherit
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2)

      &:hover
        color: black

      &:before
        display: inline
        padding-right: 0.4em

.main-control
  height: auto
  width: 60%
  margin: 2em auto
  overflow: hidden
  display: table
  font-family: 'League Gothic'
  font-size: 2.5em
  line-height: 1em
  color: $gray

  & > *
    display: table-cell
    vertical-align: middle
    text-align: center

  .label, .clock
    text-shadow: 0 1px 0 #fff

  .label
    letter-spacing: -1px
    width: 40%
    text-align: right

  .value
    width: 20%

  .button
    width: 20%
    text-align: left

    .play
      width: 1em
      height: 1em
      top: -0.1em
      padding: 0.45em 0.38em 0.45em 0.52em
      position: relative
      font-size: 1.2em
      line-height: 1em
      border-radius: 50%
      background-color: $blue
      box-shadow: inset 0 0 0.5em darken($blue, 5%)
      color: rgb(254, 250, 245)

      &.icon-pause
        font-size: 0.8em
        width: 1.5*1em
        height: 1.5*1em
        top: -1.5*0.1em
        padding: 1.5*0.6em 1.5*0.45em 1.5*0.3em 1.5*0.45em
        box-shadow: inset 0 0 1.5*0.5em darken($blue, 5%)

      &:before
        display: block
        line-height: 1.25em
        text-align: center
        padding: 0
        margin: 0

  .clock
    width: 20%
    text-align: right
    opacity: 0

h2
  font-family: 'League Gothic'
  text-transform: uppercase
  text-align: center
  font-size: 3em

  a
    color: $blue

.settings
  width: 80%
  max-width: 40em
  min-width: 25em
  margin: 0 auto
  font-size: 2em

  .train
    margin: 2em 0

.params
  &, ul, li
    margin: 0
    padding: 0

    list-style: none

  li
    margin: 1em auto 0
    text-align: center

    .before
      padding-bottom: 0.5em

    .after
      padding-top: 0.2em

  .label, .param, .before, .after
    font-family: 'Lucida Grande', 'Trebuchet MS', sans-serif
    font-size: 1em
    color: $gray
    text-align: center
    line-height: 1.2em
    letter-spacing: -1px

    .value
      color: $blue

    .hint
      font-size: 0.7em
      color: lighten($gray, 40%)

      &:before
        content: '('
      &:after
        content: ')'

  input.value
    -webkit-appearance: none
    border: 0
    display: inline
    font-family: inherit
    font-size: inherit
    font-style: inherit
    font-weight: inherit
    text-align: center
    background: transparent
    color: $blue
    width: 1.2em

  .slider + .label
    margin-top: 0.8em

  header
    margin: 1em 0 0.5em
    width: 100%
    background-color: rgba(0, 0, 0, 0.01)
    color: $gray
    font-size: 2em
    line-height: 1em
    padding: 0.5em
    position: relative
    left: -0.5em
    font-family: 'League Gothic'
    text-transform: uppercase
    text-shadow: 0 1px 0 #fff

    [class^="people-icon-"], [class*=" people-icon-"]
      &:before
        padding-right: 0.5em

  &:first-child header
    margin-top: 0

  .group
    width: 100%
    padding: 0.5em 0
    
    ul
      width: 100%
      display: table

      &.params-2
        width: 60%
        margin: 0 auto

        &.wide
          width: 80%

        & > *
          width: 50%

      &.params-4
        width: 100%

        & > *
          width: 25%

      &.params-3
        width: 80%
        margin: 0 auto

        &.wide
          width: 100%

        & > *
          width: 33.33333333%

      li
        display: table-cell
        vertical-align: top

        &.narrow
          display: block
          width: 60%

        .param
          max-width: 8em
          margin: 0 auto

          .with-clock
            .before, .after
              display: block

  .range-container
    padding: 0 1em

    .range-values
      opacity: 0
      @include prefixify(transition, opacity 0.3s linear)

    &:hover .range-values
      opacity: 1

  .slider
    width: 100%
    height: 0.8em
    background-color: rgb(255, 255, 255)
    border-radius: 0.5em
    border: 1px solid darken($ecru, 3%)
    border-width: 1px 1px 0 1px
    margin: 0.3em auto
    position: relative

    .ui-slider-handle
      background-color: $blue
      border-radius: 50%
      cursor: pointer
      box-shadow: inset 0 0 0.4em darken($blue, 10%)

    .ui-slider-range
      background-color: $gray

    &.ui-slider-vertical
      height: 100%
      width: 0.8em

      .ui-slider-handle
        left: -.2em

      .ui-slider-range
        width: 100%

    &.ui-slider-horizontal
      .ui-slider-range
        height: 100%

      .ui-slider-handle
        top: -.2em

    &.ui-disabled
      .ui-slider-handle
        background-color: $disabledBlue
        box-shadow: inset 0 0 0.4em darken($disabledBlue, 10%)

    & + .range-values
      margin-top: 0.4em
      position: relative
      overflow: hidden

      .range-min-value, .range-max-value
        font-size: 16px
        opacity: 0.6
        font-family: 'League Gothic'

      .range-min-value
        float: left
      .range-max-value
        float: right

  .clock-range-container
    display: inline-block
    overflow: visible
    position: relative
    padding: 0 1em

    canvas

    .range-container
      height: 120px
      right: -1em
      top: 0
      padding: 0.5em 0.2em 0
      position: absolute
      opacity: 0
      @include prefixify(transition, opacity 0.3s ease-in-out)

    &:hover .range-container, .range-container:hover
      opacity: 1

    &.clock-disabled:hover .range-container, &.clock-disabled .range-container:hover
      opacity: 0

  .resizable.ui-resizable
    position: relative

    &.with-tooltip
      .tip.right
        margin-top: 50%
        top: -1.5em
        right: -13.4em

        &:before
          top: 1.2em
          left: -0.5em
          border-width: 0.5em

    .ui-resizable-handle
      position: absolute
      display: block

    .ui-resizable-s
      cursor: s-resize
      height: 14px
      width: 100%
      bottom: -6px
      left: 0
    .ui-resizable-e
      cursor: e-resize
      width: 14px
      right: -6px
      top: 0
      height: 100%
    .ui-resizable-se
      cursor: se-resize
      width: 22px
      height: 22px
      right: 1px
      bottom: 0

    header
      position: relative
      top: 0.5em

    &:hover, &.ui-resizable-resizing
      .size
        opacity: 1

    .size
      position: absolute
      font-family: 'League Gothic'
      font-size: 1.2em
      color: $gray
      opacity: 0
      @include prefixify(transition, opacity 0.3s ease-in-out)

      input
        -webkit-appearance: none
        border: 0
        background: transparent
        display: inline-block
        color: inherit
        font: inherit
        width: 1.2em

      &:before, &:after
        position: relative
        font-family: FontAwesome
        text-align: center
        font-size: 0.5em
        color: lighten($gray, 40%)

      &.height
        left: 0.4em
        line-height: 1em
        top: 35%

        &:before, &:after
          height: 1em
          display: block

        &:before
          content: "\f062"
          padding-bottom: 0.4em

        &:after
          content: "\f063"
          position: relative
          top: -0.5em

      &.width
        right: 35%
        bottom: 0.2em

        &:before, &:after
          top: -0.3em

        &:before
          content: "\f060"
          padding-right: 0.3em

        &:after
          content: "\f061"
          padding-left: 0.3em

    .ui-icon
      text-indent: 0
      font-size: 24px
      color: $blue
      @include prefixify(transform, rotate(45deg))

      &:before
        font-family: 'FontAwesome'
        content: '\f061'

    &.resizable-disabled .ui-icon
      color: $gray

  .platform, .tunnel, .hall, .main-building
    border: 1px solid rgba(225, 225, 225, 0.5)
    background-color: rgba(240, 240, 240, 0.5)
    box-shadow: inset 0 0 2em rgba(225, 225, 225, 0.5)
    margin: 0 auto

    header, .params .before, .params .after, .params .label
      color: $gray
      font-family: 'League Gothic'
      font-size: 1.5em
      text-shadow: 0 1px 0 rgba(255, 255, 255, 1)
      background: transparent

  .platform, .main-building
    width: 80%
    padding: 1em

  .platform
    display: table

    .param, .label
      display: table-cell
      vertical-align: middle

    .param
      width: 30%
    .label
      width: 70%
      font-size: 5em
      font-family: 'League Gothic' !important
      color: rgba(255, 255, 255, 1)
      text-transform: uppercase
      text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.1)

  .main-building
    padding: 0
    overflow: hidden

    .param:first-child
      float: left

    .desks
      float: right

      li
        margin-top: 0
        font-size: 0.9em
        display: block

      .param
        float: none

    .param
      padding: 1em

  .tunnel, .hall
    width: 15em
    height: 15em

.actions
  margin-top: 2em
  text-align: center

  .primary, .secondary
    -webkit-appearance: none
    margin: 0 auto
    padding: 0.3em 2em
    border-radius: 0.1em
    font-size: 4em
    line-height: 1em
    text-transform: uppercase

.settings
  font-size: 1.5em

  nav
    margin-top: 1em
    font-size: 1.5em

    ul
      margin: 0 auto
      border: 0
      position: relative
      overflow: hidden

      li
        float: left
        color: #272727

        &.active
          color: $blue

          a
            color: inherit
            background-color: lighten($ecru, 3%)
            border-color: darken($ecru, 3%)

            &:hover
              background-color: lighten($ecru, 3%)
              color: inherit

            &.train-link
              background-image: url('/assets/icon-train-active.png')

          ul
            display: block

            li
              color: $gray

              &.active
                color: $blue

                a
                  background-color: lighten($ecru, 3%)
                  border-bottom-color: lighten($ecru, 3%)


              a
                border-bottom: 1px solid darken($ecru, 3%)
                background-color: lighten($ecru, 1%)

        a, ul
          float: left

        a
          width: 2em
          padding-top: 0.25em
          height: 1.75em
          line-height: 1.5em
          text-align: center
          text-transform: uppercase
          color: $gray
          background-color: lighten($ecru, 1%)
          border: 1px solid darken($ecru, 3%)
          border-width: 1px 1px 1px 0

          &:hover
            background-color: lighten($ecru, 3%)

          &.train-link
            background-image: url('/assets/icon-train-normal.png')
            background-position: center center
            background-repeat: no-repeat
            background-size: 50% 50%

        ul
          margin-top: 0.4em
          positon: relative
          overflow: hidden
          font-size: 0.8em
          font-family: 'League Gothic'
          border: 1px solid darken($ecru, 3%)
          border-width: 1px 1px 0 0
          display: none

          li
            float: left
            width: auto
            color: $gray
            border-left: 1px solid darken($ecru, 3%)

            &:first-child
              border-left-width: 0

            a
              display: block
              width: auto
              height: auto
              padding: 0.4em 1em 0.2em
              border-width: 0 0 1px 0


.settings-container
  overflow: hidden
  background-color: lighten($ecru, 3%)
  border: 1px solid darken($ecru, 3%)
  border-width: 0 1px 1px 0

  .tabs
    display: table
    width: 5*100%
    position: relative
    left: 0
    @include prefixify(transition, left 0.5s ease-in-out)

    .container
      display: table-cell
      width: 1/5*100%
      padding: 1em 2em
      vertical-align: middle
      font-family: 'Lucida Grande', 'Trebuchet MS', sans-serif
      font-size: 0.7em
      letter-spacing: -1px
      line-height: 1.2em

  .label
    line-height: 1.2em

  .label + .ui-slider-horizontal
    margin-top: 0.7em

  .group
    margin-bottom: 2em

  .params-3
    width: 100% !important

  .params
    .label
      font-family: inherit

.settings-container, .dialog, #dialog
  .actions
    position: relative
    overflow: hidden
    border-top: 1px solid $ecru
    font-family: 'League Gothic'
    text-transform: uppercase

    input[type=submit]
      -webkit-appearance: none
      background-color: transparent
      border: 0

    a, input[type=submit], .file-wrapper
      width: 50%
      padding: 0.7em 0
      font-size: 1.6em
      text-shadow: none
      border-radius: 0
      letter-spacing: -1px
      @include prefixify(box-sizing, border-box)
      @include prefixify(transition, all 0.5s ease-in-out)

      &:hover
        background-color: #fff

      &.prev, &.secondary
        float: left
        color: $blue
        border-right: 1px solid $ecru

      &.next
        float: right

      &.next, &.primary
        color: $fine

        &:hover
          background-color: $fine
          color: #fff

    &.single-action
      a, input[type=submit]
        width: 100%

// summary
.summary
  width: 60%
  margin: 2em auto 0
  font-family: 'Lucida Grande', 'Trebuchet MS', sans-serif
  letter-spacing: -1px
  color: $gray

  .container
    margin-bottom: 1em

  h3
    font-weight: bold
    font-size: 1.2em
    padding: 0.5em 0 0.1em 0.35em

  table
    width: 100%

    tr
      &:nth-child(even)
        background-color: rgba(255, 255, 255, 0.5)

      td
        padding: 0.2em 0.5em

      td:last-child
        text-align: right
        font-family: 'League Gothic'
        letter-spacing: 0
        font-size: 1.2em

#dialog
  width: 60%
  margin: 5% auto
  font-family: 'Lucida Grande', 'Trebuchet MS', sans-serif
  letter-spacing: -1px
  font-size: 1em
  line-height: 1.2em
  background-color: lighten($ecru, 3%)
  color: $gray

  h1, h2, .title
    font-family: 'League Gothic'
    font-size: 1.5em
    letter-spacing: 0
    line-height: 1.2em
    color: rgba(0, 0, 0, 0.8)

  header
    margin-bottom: 2em

    h1
      font-size: 2em

  .dialog-content
    padding: 2em 2em 1em

  .steps
    margin: 1em 0

    li
      margin-top: 1.5em

    .title
      text-align: left

    .icon
      width: 5em
      height: 5em
      float: left
      margin-right: 1em

      &.json
        margin-top: 0.5em

      & + .description
        margin-top: 1em

  .hints li
    margin: 0.2em 0

  .files
    display: table
    width: 100%

    li
      display: table-cell
      position: relative
      width: 50%

    .description
      float: left
      .name
        font-size: 1.5em
        line-height: 1.2em

    .file-link
      margin: 0.5em
      padding: 0.5em
      display: block
      position: relative
      overflow: hidden
      color: $blue
      border-radius: 0.2em
      @include prefixify(transition, background-color 0.3s linear)

      &:hover
        background-color: #fff

    .source
      display: none
      right: 1em
      top: 2em
      width: 1em
      height: 1em
      line-height: 1em
      padding: 0.2em
      border-radius: 50%
      display: block
      position: absolute
      font-size: 1.5em
      color: rgba(0, 0, 0, 0.4)

      &:hover
        color: $gray

      .tip
        width: 6em
        font-size: 0.6em
        left: -2.1em
        top: 2.2em

    .file
      color: lighten($gray, 20%)

      .name
        font-size: 1em
        padding-right: 0.5em

      .size
        color: lighten($gray, 30%)
        font-size: 0.8em

  .actions
    margin-top: 0
    font-size: 2em
    width: 100%
    overflow: hidden

    .file-wrapper
      width: 100%

      & + input[type=submit]
        display: none

      &.selected
        width: 50%

        & + input[type=submit]
          display: block
          width: 50%

// file-wrapper
.file-wrapper
  cursor: pointer
  overflow: hidden
  position: relative
  width: 100%
  height: 100%
  border: 0
  background: transparent // $blue

  input
    cursor: pointer
    font-size: 10em
    height: 100%
    filter: alpha(opacity=1)
    opacity: 0.01
    position: absolute
    right: 0
    top: 0
    border: 0

  .button
    display: block
    border: 0
    color: $blue // #fff
    cursor: pointer
    display: inline-block
    @include prefixify(transition, color 0.5s ease-in-out)

  &:hover
    .button
      color: $blue

.dialog-placeholder
  width: 100%
  height: 50em